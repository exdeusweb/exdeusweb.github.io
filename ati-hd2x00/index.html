<html>
<head>
<title>ATI HD Registry Tweaks</title>
<link rel="shortcut icon" href="http://www.comcast.net/favicon.ico" type="image/vnd.microsoft.icon" />
<style>
	p,h1,h2,h3 { font-family:Verdana; color:navy }
	p { font-size:10pt }
</style>
</head>
<body bgcolor="#f9fafe">
<table border=0 cellpadding=0 width=900 style='width:675.0pt'>
<tr><td>
<h2>ATI HD Registry Tweaks for Maximum HTPC Performance</h2>

<p>Supports Windows Vista x86/x64, XP &amp; MCE.</p>

 <p>This script is designed to add values to the Windows registry.
 Changing anything in the registry can be hazardous.
 No warranty is offered or implied. <b>Use at your own risk!</b></p>

 <p>This script will add a number of registry tweaks to enhance the
 performance of ATI HD2000 &amp; HD3000 series video cards for use in HTPCs.</p>

 <p>The simple way to use this program:<br>
 <br>
 Run the script (double-click). When you are prompted to approve a video device,
 read the "Device Description". If it looks like a description for your video card,
 go ahead and answer 'Yes' to agree that it is the correct device. There is no harm
 caused by adding the settings under multiple video devices, or even under video
 devices that aren't your active video card. The settings will be ignored by other devices.</p>

 <p>To make it more complicated:<br>
 <br>
 Under Windows XP / MCE, if you want to add a level of verification that you have the correct video device,
 open the ATI Catalyst Control Center, and select the
 Information Center &gt; Graphics Software section. The 2D Driver Path
 will show the GUID (the number between the curly brackets, "{}")
 for your active video device. When you run this program, you will be
 prompted for each video device on your system. When you see the
 GUID for your active video device, approve that device to add
 the registry settings.</p>

 <p>Under Windows Vista, the path in the CCC will not match the
 one reported by this program, because this program uses a different registry key that
 mirrors (copies its values) to the one listed in the CCC.</p>

 <p>You will be prompted to approve the correct video device before
 anything in the registry is changed. To add settings for multiple
 devices, simply re-run the program and select a different device.
 In Windows XP / MCE, the registry tweaks will be applied to all outputs,
e.g., 0000 and 0001. In Windows Vista, the registry tweaks are applied
uniformly to the active device, which applies to all outputs on that
device.</p>

 <a name="download" id="download"><hr /></a>

<h3>Save the .vbs file to your computer, then double-click on it to run the program.</h3>
<h3>Internet Explorer: Right-click and select 'Save Target As...'</h3>
<h3>Firefox: Right-click and select 'Save Link As...'</h3>

<h1><a href="ATI_HD_Reg_Tweaks_0.13.vbs">Download ATI HD Registry Tweaks 0.13</a></h1>

<p>This is a program written in VBScript. You can view the source code in your browser
or in any text editor. If you double-click it, it will run using the Windows Script Host,
included with every version of Windows. Your anti-virus software may bark when you download
or attempt to run this, because VBScript is fairly powerful and .vbs files have been used
to do some malicious things in the past. I have no malicious intentions, so I suggest you
let the program run, but if you're uncomfortable doing it, don't.</p>

<a name="details" id="details"><hr /></a>

<p>See <a href="http://www.avsforum.com/avs-vb/showpost.php?p=11622510&amp;postcount=2011">
  my AVS Forum post</a> for details on the registry settings.</p>

<p>See <a href="http://www.avsforum.com/avs-vb/showpost.php?p=11659897&amp;postcount=2121">
arfster's AVS Forum post</a> for details on the effects of each setting.</p>

 <p>The following registry settings are applied:</p>

 <h3>All HD2000 & HD3000 Models</h3>
 <p>"DXVA_DetailEnhance"="0"<br>
 "DXVA_NOHDDECODE"="0"<br>
"DXVA_WMV_NA"="0" <br>
"HWUVD_ForceMPEG2"="1"<br>
"SORTOverrideVidSizeCaps"="2800000"<br>
"TrDenoise"="0"<br>
"UseBT601CSC"="1"<br>
"VForceMaxResSize"="2800000"<br>
"VForceUVDVC1"="1"<br>
"VForceUVDH264"="1"<br>
</p>

<h3>HD2400 Model Only</h3>
 <p>"DXVA_Only24FPS1080MPEG2"="0"<br>
"DXVA_Only24FPS1080H264"="0"<br>
"DXVA_Only24FPS1080VC1"="0"<br>
"SORTOverrideFPSCaps"="0"<br>
"VForce24FPS1080MPEG2"="0"<br>
"VForce24FPS1080H264"="0"<br>
"VForce24FPS1080VC1"="0"</p>

<h3>HD2600 &amp; HD3000 Models Only</h3>
<p>"ColorVibrance_DEF"="0"<br>
"ColorVibrance_DE_MIN"="0"<br>
"ColorVibrance_NA"="0"<br>
"DI_METHOD"="5"<br>
"DI_METHOD_DEF"="5"<br>
"Fleshtone_DEF"="0"<br>
"Fleshtone_DE_MIN"="0"<br>
"Fleshtone_NA"="0"</p>

 <a name="AGP" id="AGP"><hr /></a>

 <h2>If your AGP card is not supported by the latest ATI drivers...</h2>

 <p>Sometimes the drivers don't get updated for every card for every driver release,
 so you need to edit a couple files to add your card. Run the installer, and continue
 until you extract the driver into a folder under C:\ATI\SUPPORT\. At the next opportunity,
 cancel the installation and navigate to the C:\ATI\SUPPORT\ folder in Windows Explorer.
 Edit the files as follows, and you can then run C:\ATI\SUPPORT\{Current Version}\Driver\setup.exe.</p>

 <p>The files you need to edit are: </p>

 <h3>Windows Vista</h3>
 <p style="font-weight:bold">C:\ATI\SUPPORT\[Current Version]\Driver\Packages\Drivers\Display\LH_INF\CX_*****.inf</p>

 <p>Under "[ATI.Mfg]", add the following lines. You can do a search for "HD 2400" to put the lines with the other
 entries for the HD2000 series, if you wish.</p>

<p>"ATI Radeon HD 2400 PRO AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C4<br>
"ATI Radeon HD 2400 XT AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C6<br>
"ATI Radeon HD 2600 PRO AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9587<br>
"ATI Radeon HD 2600 XT AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9586</p>

<p>The lines can be placed anywhere under the "[ATI.Mfg]" section. For example, your entry could look as follows:</p>

<p>[ATI.Mfg]<br>
"ATI Radeon HD 2400 PRO AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C4<br>
"ATI Radeon HD 2400 XT AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C6<br>
"ATI Radeon HD 2600 PRO AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9587<br>
"ATI Radeon HD 2600 XT AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9586</p>

<h3>Windows XP/MCE</h3>
<p style="font-weight:bold">C:\ATI\SUPPORT\[Current Version]\Driver\Driver\XP_INF\CX_*****.inf</p>

<p>Under "[ATI.Mfg.NTx86]", add the following lines. You can do a search for "HD 2400" to put the lines with the other
 entries for the HD2000 series, if you wish.</p>

<p>"ATI Radeon HD 2400 PRO AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C4<br>
"ATI Radeon HD 2400 XT AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C6<br>
"ATI Radeon HD 2600 PRO AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9587<br>
"ATI Radeon HD 2600 XT AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9586</p>

<p>The lines can be placed anywhere under the "[ATI.Mfg.NTx86]" section. For example, your entry could look as follows:</p>

<p>[ATI.Mfg.NTx86]<br>
"ATI Radeon HD 2400 PRO AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C4<br>
"ATI Radeon HD 2400 XT AGP" = ati2mtag_RV610, PCI\VEN_1002&DEV_94C6<br>
"ATI Radeon HD 2600 PRO AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9587<br>
"ATI Radeon HD 2600 XT AGP" = ati2mtag_RV630, PCI\VEN_1002&DEV_9586</p>

<p style="font-weight:bold">C:\ATI\SUPPORT\[Current Version]\Driver\Driver\CX_*****.INI<br>
C:\ATI\SUPPORT\[Current Version]\Driver\Driver\INSTALL.INI</p>

<p>In <span style="font-weight:bold">both files</span>, under the "[WINXP]" section, add the following at the end of the second line,
which starts "R6=DriverPath_R6":</p>

<p>,0x94C4,0x94C6,0x9586,0x9587</p>

<p>For example, your entry could look as follows:</p>

<p>[WINXP]<br>
Label=R6,R6_2,R6_3,R6_4,R6_5,R6_6,R6_7,R6_8,R6_9,R6_10<br>
R6=DriverPath_R6,0x554F:0x149218BC,0x7162:0x3001147B,<span style="font-weight:bold">0x94C4,0x94C6,0x9586,0x9587</span><br>
DriverPath_R6=\XP_INF,CX_52443.INF</p>


<a name="redshift" id="redshift"><hr /></a>

<h2>If you see red-shift or flashes of color on red objects...</h2>

<p>For NTSC material, it seems to be related to framerate detection of NTSC video material (29.97fps, interlaced).
In the ATI CCC, try disabling pulldown detection .</p>


<a name="changelog" id="changelog"><hr /></a>

<h2>Changelog:</h2>

<p>2008-03-21 0.13<br>
Renamed and changed to apply to all HD2000 and HD3000 cards.<br>
Added prompt to ensure user is aware of dual display circumstances necessitating HWUVD_ForceMPEG2.<br>
Changed array implementations to allow for easier updating.<br>
</p>

<p>2008-02-23 0.12<br>
Modified implementation for Vista to use different registry keys under HKLM\System\CurrentControlSet\Control\Class.
Applying the settings once there should mirror the settings to Control\Video for all ports of the device.<br>
Added links to resources on UAC if permissions prevent adding reg values under Vista.<br>
Added: "VForceUVDVC1"="1", "VForceUVDH264"="1", "HWUVD_ForceMPEG2"="1"
</p>

<p>2007-10-31 0.11:<br>
Added support for all video device numbers, not just "0000" and "0001".<br>
Fixed final "Done" dialog to work properly under Vista.<br>
Updated final "Done" dialog to display settings for all device numbers.<br>
Added check for registry permissions each time a value is set.
</p>

<p>2007-10-30 0.10:<br>
Added DXVA_NOHDDECODE to apply to the HD2600, as HD-MPEG2 DXVA was broken in the ATI Catalyst 7.10 drivers.
</p>

<p>2007-09-27 0.9:<br>
Made comments in the file header a little more generic.<br>
Changed the recursive SetRegValue sub call in SetRegValue() to have the correct arguments.
</p>

<p>2007-09-24 0.8:<br>
Added change for sloppy programming: Reset message string at the beginning of Done() sub.
</p>

<p>2007-09-23 0.7:<br>
Added checking for user permissions to edit registry, allowing for Vista UAC. Previously, adding settings to registry would fail silently.<br>
Upgraded for efficiency: Changed big loops with interior branching to exterior branching with little loops.<br>
Added Done() sub to show current registry settings at the end of processing.
Added SetRegValue() sub for checking permissions and adding reg values. (Not currently implemented. To be used in a future upgrade, if needed.)
</p>

<p>2007-09-19 0.6:<br>
Changed detection for Vista to case-insenstive string compare.
</p>

<p>2007-09-18 0.5:<br>
Added support for primary video device as "0001" and secondary as "0000". Previously, assumed primary was "0000".
</p>

<p>2007-09-18 0.4:<br>
Added SORTOverrideVidSizeCaps = 2800000.<br>
Added ColorVibrance_NA = 0 for 2600.<br>
Added Fleshtone_NA = 0 for 2600. <br>
</p>

<p>2007-09-18 0.3:<br>
Initial public release.<br>
Support for Win XP/MCE and Vista.<br>
Support for multiple video devices (cycles thru devices).<br>
Adds settings for both primary and secondary video devices.
</p>

<br>
</td></tr>
</table>
<p>Updated&nbsp; <script language="JavaScript" type="text/javascript">
document.write((new Date(document.lastModified)).toUTCString());
</script></p>

<p><img src="http://exdeus.home.comcast.net/~exdeus/site/exec/counter.cgi" border="0" height="48" width="48"></p>

<a name="guestbook" id="guestbook"><h3 style="font-weight:bold;text-align:center">Please sign the guest book! Provide any feedback you feel to be worthwhile.</h3></a>

<p><center><a href="http://home.comcast.net/cgi-bin/GBEntry?owner=exdeus"><img src="http://home.comcast.net/global-images/guestbook/sign_gb.jpg" border="0"></a></center></p>

<p><center><a href="http://home.comcast.net/cgi-bin/GBView?owner=exdeus"><img src="http://home.comcast.net/global-images/guestbook/view_gb.jpg" border="0"></a></center></p>

</body></html>





